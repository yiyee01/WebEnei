<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Redirigiendo...</title>
    <script>
        window.onload = function () {
            // Primero verifica par치metros de consulta
            const urlParams = new URLSearchParams(window.location.search);
            let token = urlParams.get('access_token') || urlParams.get('token');

            // Si no est치 en los par치metros, verifica el fragmento
            if (!token) {
                const fragment = window.location.hash.substring(1);
                const fragmentParams = new URLSearchParams(fragment);
                token = fragmentParams.get("access_token") || fragmentParams.get("token");
            }

            if (token) {
                // Considera usar POST en lugar de pasar el token por URL
                window.location.href = `/nueva-contrasena/?access_token=${encodeURIComponent(token)}`;
            } else {
                document.body.innerHTML = "<p>No se pudo obtener el token. Por favor vuelve a solicitar el enlace.</p>";
            }
        };
    </script>
</head>

<body>
    <p>Redirigiendo a cambio de contrase침a...</p>
</body>

</html>